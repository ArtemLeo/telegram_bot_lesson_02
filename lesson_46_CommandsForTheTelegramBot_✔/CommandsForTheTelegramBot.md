# ‚úÖ –£—Ä–æ–∫ 42: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–º–∞–Ω–¥ –¥–ª—è TelegramBot

---
<img src="main_image.png" alt="pygame" width="1500">

## –ó–º—ñ—Å—Ç —É—Ä–æ–∫—É:

1. [–°—å–æ–≥–æ–¥–Ω—ñ –Ω–∞ —É—Ä–æ—Ü—ñ](#1-—Å—å–æ–≥–æ–¥–Ω—ñ-–Ω–∞-—É—Ä–æ—Ü—ñ)
2. [–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–æ–º–∞–Ω–¥–∏ `/films`](#2-—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è-–∫–æ–º–∞–Ω–¥–∏-films)
3. [–§—É–Ω–∫—Ü—ñ—è `Keyboard builder`](#3-—Ñ—É–Ω–∫—Ü—ñ—è-keyboard-builder)
4. [–°—Ç–≤–æ—Ä–µ–Ω–Ω—è `Menu` –¥–ª—è **TelegramBot**](#4-—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è-menu-–¥–ª—è-telegrambot)
5. [–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–µ—Ä–µ–≥–ª—è–¥—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ —Ñ—ñ–ª—å–º–∏](#5-—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è-–ø–µ—Ä–µ–≥–ª—è–¥—É-—ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó-–ø—Ä–æ-—Ñ—ñ–ª—å–º–∏)
6. [–ü—ñ–¥–≤–µ–¥–µ–Ω–Ω—è –ø—ñ–¥—Å—É–º–∫—ñ–≤ üöÄ](#6-–ø—ñ–¥–≤–µ–¥–µ–Ω–Ω—è-–ø—ñ–¥—Å—É–º–∫—ñ–≤)

> üîó Useful Links:

- [JavaScript Object Notation](https://uk.wikipedia.org/wiki/JSON)

---

## 1. –°—å–æ–≥–æ–¥–Ω—ñ –Ω–∞ —É—Ä–æ—Ü—ñ

> üí° –ù–∞ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–º—É —É—Ä–æ—Ü—ñ –º–∏ —Å—Ç–≤–æ—Ä–∏–ª–∏ –±–∞–∑–æ–≤–æ–≥–æ **TelegramBot** —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–ª–∏ –π–æ–≥–æ —Ç–∞–∫, —â–æ–± –≤—ñ–Ω —Ä–µ–∞–≥—É–≤–∞–≤ –Ω–∞ –∫–æ–º–∞–Ω–¥—É
`/start`.

–ù–∞ —Ü—å–æ–º—É —É—Ä–æ—Ü—ñ –º–∏ –Ω–∞–≤—á–∏–º–æ—Å—è —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É —Å–ø–∏—Å–∫—É —Ñ—ñ–ª—å–º—ñ–≤ —É **TelegramBot**, –∞ —Ç–∞–∫–æ–∂ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏
—Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–µ—Ç–∞–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫–æ–∂–µ–Ω —Ñ—ñ–ª—å–º, —â–æ –¥–æ–∑–≤–æ–ª–∏—Ç—å —Ä–æ–∑—à–∏—Ä–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –Ω–∞—à–æ–≥–æ –±–æ—Ç–∞ —Ç–∞ –∑—Ä–æ–±–∏—Ç–∏
–π–æ–≥–æ –∫–æ—Ä–∏—Å–Ω–∏–º —ñ —Ü—ñ–∫–∞–≤–∏–º –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.

–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –∑–º–æ–∂—É—Ç—å –ª–µ–≥–∫–æ –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö —Ñ—ñ–ª—å–º—ñ–≤, –∞ —Ç–∞–∫–æ–∂ –æ—Ç—Ä–∏–º–∞—Ç–∏ –±—ñ–ª—å—à–µ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫–æ–∂–µ–Ω –∑ –Ω–∏—Ö,
–∑–æ–∫—Ä–µ–º–∞ **–Ω–∞–∑–≤—É, –æ–ø–∏—Å, —Ä–µ–π—Ç–∏–Ω–≥, –∂–∞–Ω—Ä, –∞–∫—Ç–æ—Ä—ñ–≤** —ñ –Ω–∞–≤—ñ—Ç—å –ø–æ–±–∞—á–∏—Ç–∏ **–ø–æ—Å—Ç–µ—Ä** —Ñ—ñ–ª—å–º—É.

### –û—Å–Ω–æ–≤–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ:

- –ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∫–ª–∞—Å—É `Command` —Å—Ç–≤–æ—Ä–∏–º–æ –∫–æ–º–∞–Ω–¥—É `/films`, —è–∫–∞ –¥–æ–∑–≤–æ–ª–∏—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ —Ñ—ñ–ª—å–º—ñ–≤.
- –î–æ–¥–∞–º–æ —Ñ—É–Ω–∫—Ü—ñ—é, —è–∫–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏–º–µ –ø–µ—Ä–µ–ª—ñ–∫ —Ñ—ñ–ª—å–º—ñ–≤, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—É –∫–ª–∞–≤—ñ–∞—Ç—É—Ä—É (`Keyboard Builder`), —â–æ
  –∑—Ä–æ–±–∏—Ç—å –≤–∏–±—ñ—Ä –ø—Ä–æ—Å—Ç—ñ—à–∏–º —Ç–∞ –∑—Ä—É—á–Ω—ñ—à–∏–º.
- –î–æ–¥–∞–º–æ –º–µ–Ω—é –∑ –¥–æ—Å—Ç—É–ø–Ω–∏–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏, —â–æ–± –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–∞–ª–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–∏ –º—ñ–∂ —Ä—ñ–∑–Ω–∏–º–∏ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏ –±–æ—Ç–∞.
- –°—Ç–≤–æ—Ä–∏–º–æ –æ–∫—Ä–µ–º—É –∫–æ–º–∞–Ω–¥—É, —è–∫–∞ –¥–æ–∑–≤–æ–ª–∏—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º –æ–±–∏—Ä–∞—Ç–∏ —Ñ—ñ–ª—å–º —Ç–∞ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –Ω—å–æ–≥–æ.
- –í–∏–∑–Ω–∞—á–∏–º–æ, —è–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ `id` —Ñ—ñ–ª—å–º—É, –∫–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞—Ç–∏—Å–∫–∞—î –∫–Ω–æ–ø–∫—É, —â–æ–± –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—Å—é –ø–æ—Ç—Ä—ñ–±–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –∑ –Ω–∞—à–æ–≥–æ
  –¥–∂–µ—Ä–µ–ª–∞.
- –ù–∞–≤—á–∏–º–æ—Å—è –≤—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ –¥–µ—Ç–∞–ª—ñ –ø—Ä–æ —Ñ—ñ–ª—å–º, —Ç–∞–∫—ñ —è–∫ **–Ω–∞–∑–≤–∞, –æ–ø–∏—Å, —Ä–µ–π—Ç–∏–Ω–≥, –∂–∞–Ω—Ä, –∞–∫—Ç–æ—Ä–∏ —Ç–∞ –ø–æ—Å—Ç–µ—Ä**.

[–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –∑–º—ñ—Å—Ç—É](#–∑–º—ñ—Å—Ç-–∫–æ–Ω—Å–ø–µ–∫—Ç—É)

---

## 2. –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–æ–º–∞–Ω–¥–∏ `/films`

> üí° –ú–æ–¥—É–ª—å `commands.py` –∑–±–µ—Ä—ñ–≥–∞—î –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ —Ç–∞ —ó—Ö —Ñ—ñ–ª—å—Ç—Ä–∏.

–°—Ç–≤–æ—Ä–∏–º–æ —Ñ–∞–π–ª `commands.py` —É –Ω–∞—à–æ–º—É –ø—Ä–æ—î–∫—Ç—ñ.

```python
# –ú–æ–¥—É–ª—å, –≤ —è–∫–æ–º—É –æ–≥–æ–ª–æ—à–µ–Ω—ñ –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ —Ç–∞ —ó—Ö —Ñ—ñ–ª—å—Ç—Ä–∏
from aiogram.filters import Command

FILMS_COMMAND = Command('films')
```

–£ —Ñ–∞–π–ª—ñ `bot.py` —Å—Ç–≤–æ—Ä–∏–º–æ –Ω–æ–≤–∏–π –æ–±—Ä–æ–±–Ω–∏–∫ –ø–æ–¥—ñ–π –¥–ª—è –∫–æ–º–∞–Ω–¥–∏ `/films` (–ø–µ—Ä–µ–≥–ª—è–¥ —Ñ—ñ–ª—å–º—ñ–≤), –∫–æ–¥ —è–∫–æ–≥–æ –±—É–¥–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏—Å—è –ø—ñ–¥
–æ–±—Ä–æ–±–Ω–∏–∫–æ–º –∫–æ–º–∞–Ω–¥–∏ `/start`.

–û–±—Ä–æ–±–Ω–∏–∫ –∫–æ–º–∞–Ω–¥–∏ `/films` –∑–∞–ª–∏—à–∏–º–æ –±–µ–∑ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó (`pass`).

```python
@dp.message(Command("start"))
async def start(message: Message) -> None:
    await message.answer(
        f"Helloüñê, {html.bold(message.from_user.full_name)}!\n"
        "I'm your first Telegram Bot ü•≥"
    )


@dp.message(FILMS_COMMAND)
async def films(message: Message) -> None:
    pass
```

–°—Ç–≤–æ—Ä–∏–º–æ —Ñ–∞–π–ª `data.json` –≤ –∫–æ—Ä–µ–Ω—ñ –Ω–∞—à–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É, —è–∫–∏–π –±—É–¥–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ñ—ñ–ª—å–º–∏.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ `json` —Ñ–æ—Ä–º–∞—Ç—É [(JavaScript Object Notation)](https://uk.wikipedia.org/wiki/JSON) –ø—Ä–æ—Å—Ç–∞ —ñ –∑—Ä–æ–∑—É–º—ñ–ª–∞ —Ç–∞
—ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Å—Ö–æ–∂–∏—Ö –∑–∞–≤–¥–∞–Ω—å.

–î–æ–¥–∞–º–æ —Å–ø–∏—Å–æ–∫ –∑ —Ñ—ñ–ª—å–º–∞–º–∏ –¥–æ –Ω–∞—à–æ–≥–æ `json` —Ñ–∞–π–ª—É.

```json
[
  {
    "name": "Inception",
    "description": "–ó–ª–æ–¥—ñ–π, —è–∫–∏–π –∫—Ä–∞–¥–µ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ñ —Å–µ–∫—Ä–µ—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó —Å–ø—ñ–ª—å–Ω–æ–≥–æ —Å–Ω—É, –æ—Ç—Ä–∏–º—É—î –∑–∞–≤–¥–∞–Ω–Ω—è –≤–±—É–¥—É–≤–∞—Ç–∏ —ñ–¥–µ—é –≤ —Ä–æ–∑—É–º –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–≥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞.",
    "rating": 8.8,
    "genre": "Action, Adventure, Sci-Fi",
    "actors": [
      "Leonardo DiCaprio",
      "Joseph Gordon-Levitt",
      "Elliot Page"
    ],
    "poster": "https://upload.wikimedia.org/wikipedia/en/2/2e/Inception_%282010%29_theatrical_poster.jpg"
  },
  {
    "name": "Fight Club",
    "description": "–°—Ç—Ä–∞–∂–¥–∞—é—á–∏–π –±–µ–∑—Å–æ–Ω–Ω—è–º –æ—Ñ—ñ—Å–Ω–∏–π –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫ —ñ –±–µ–∑—Ç—É—Ä–±–æ—Ç–Ω–∏–π –≤–∏—Ä–æ–±–Ω–∏–∫ –º–∏–ª–∞ —Å—Ç–≤–æ—Ä—é—é—Ç—å –ø—ñ–¥–ø—ñ–ª—å–Ω–∏–π –±–æ–π–æ–≤–∏–π –∫–ª—É–±, —è–∫–∏–π –ø–µ—Ä–µ—Ä–æ—Å—Ç–∞—î –≤ —â–æ—Å—å –Ω–∞–±–∞–≥–∞—Ç–æ –±—ñ–ª—å—à–µ.",
    "rating": 8.8,
    "genre": "Drama",
    "actors": [
      "Brad Pitt",
      "Edward Norton",
      "Helena Bonham Carter"
    ],
    "poster": "https://upload.wikimedia.org/wikipedia/en/f/fc/Fight_Club_poster.jpg"
  },
  {
    "name": "The Silence of the Lambs",
    "description": "–ú–æ–ª–æ–¥–æ–º—É –∞–≥–µ–Ω—Ç—É –§–ë–† –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ–ø–æ–º–æ–≥—É –≤—ñ–¥ —É–≤'—è–∑–Ω–µ–Ω–æ–≥–æ —ñ –º–∞–Ω—ñ–ø—É–ª—è—Ç–∏–≤–Ω–æ–≥–æ –≤–±–∏–≤—Ü—ñ-–∫–∞–Ω—ñ–±–∞–ª–∞, —â–æ–± —Å–ø—ñ–π–º–∞—Ç–∏ —ñ–Ω—à–æ–≥–æ —Å–µ—Ä—ñ–π–Ω–æ–≥–æ –≤–±–∏–≤—Ü—é, –±–æ–∂–µ–≤—ñ–ª—å–Ω–æ–≥–æ, —è–∫–∏–π –∑–Ω—ñ–º–∞—î —à–∫—ñ—Ä—É –∑—ñ —Å–≤–æ—ó—Ö –∂–µ—Ä—Ç–≤.",
    "rating": 8.6,
    "genre": "Crime, Drama, Thriller",
    "actors": [
      "Jodie Foster",
      "Anthony Hopkins",
      "Lawrence A. Bonney"
    ],
    "poster": "https://upload.wikimedia.org/wikipedia/en/8/86/The_Silence_of_the_Lambs_poster.jpg"
  },
  {
    "name": "Interstellar",
    "description": "–ö–æ–º–∞–Ω–¥–∞ –¥–æ—Å–ª—ñ–¥–Ω–∏–∫—ñ–≤ –ø–æ–¥–æ—Ä–æ–∂—É—î —á–µ—Ä–µ–∑ –∫—Ä–æ—Ç–æ–≤—É –Ω–æ—Ä—É –≤ –ø—Ä–æ—Å—Ç–æ—Ä—ñ —É —Å–ø—Ä–æ–±—ñ –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –≤–∏–∂–∏–≤–∞–Ω–Ω—è –ª—é–¥—Å—Ç–≤–∞.",
    "rating": 8.6,
    "genre": "Adventure, Drama, Sci-Fi",
    "actors": [
      "Matthew McConaughey",
      "Anne Hathaway",
      "Jessica Chastain"
    ],
    "poster": "https://upload.wikimedia.org/wikipedia/en/b/bc/Interstellar_film_poster.jpg"
  },
  {
    "name": "Jurassic Park",
    "description": "–ú—ñ–ª—å—è—Ä–¥–µ—Ä-–µ–Ω—Ç—É–∑—ñ–∞—Å—Ç —Å—Ç–≤–æ—Ä—é—î –ø–∞—Ä–∫ —Ä–æ–∑–≤–∞–≥ –∑ –∫–ª–æ–Ω–æ–≤–∞–Ω–∏–º–∏ –¥–∏–Ω–æ–∑–∞–≤—Ä–∞–º–∏, –∞–ª–µ –≤—Å–µ –π–¥–µ –Ω–µ –∑–∞ –ø–ª–∞–Ω–æ–º, –∫–æ–ª–∏ –¥–∏–Ω–æ–∑–∞–≤—Ä–∏ –≤–∏—Ä–∏–≤–∞—é—Ç—å—Å—è –Ω–∞ –≤–æ–ª—é —ñ –ø–æ—á–∏–Ω–∞—é—Ç—å –ø–æ–ª—é–≤–∞—Ç–∏ –Ω–∞ –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ–≤ –ø–∞—Ä–∫—É.",
    "rating": 8.1,
    "genre": "Adventure, Sci-Fi, Thriller",
    "actors": [
      "Sam Neill",
      "Laura Dern",
      "Jeff Goldblum"
    ],
    "poster": "https://upload.wikimedia.org/wikipedia/en/e/e7/Jurassic_Park_poster.jpg"
  },
  {
    "name": "The Dark Knight Rises",
    "description": "–ë–µ—Ç–º–µ–Ω –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è, —â–æ–± –≤—Ä—è—Ç—É–≤–∞—Ç–∏ –ì–æ—Ç–µ–º –≤—ñ–¥ –Ω–æ–≤–æ–≥–æ –≤–æ—Ä–æ–≥–∞ –ë–µ–π–Ω–∞, —è–∫–∏–π –∑–∞–≥—Ä–æ–∂—É—î –∑–Ω–∏—â–∏—Ç–∏ –º—ñ—Å—Ç–æ. –ë–µ—Ç–º–µ–Ω –ø–æ–≤–∏–Ω–µ–Ω –ø–æ–¥–æ–ª–∞—Ç–∏ —Å–≤–æ—ó —Ñ—ñ–∑–∏—á–Ω—ñ —Ç–∞ –µ–º–æ—Ü—ñ–π–Ω—ñ –≤–∏–ø—Ä–æ–±—É–≤–∞–Ω–Ω—è, —â–æ–± –∑—É–ø–∏–Ω–∏—Ç–∏ –ë–µ–π–Ω–∞.",
    "rating": 8.4,
    "genre": "Action, Thriller",
    "actors": [
      "Christian Bale",
      "Tom Hardy",
      "Anne Hathaway"
    ],
    "poster": "https://upload.wikimedia.org/wikipedia/en/8/83/Dark_knight_rises_poster.jpg"
  },
  {
    "name": "The Avengers: Endgame",
    "description": "–ü—ñ—Å–ª—è —Ä—É–π–Ω—ñ–≤–Ω–∏—Ö –ø–æ–¥—ñ–π, —Å–ø—Ä–∏—á–∏–Ω–µ–Ω–∏—Ö –¢–∞–Ω–æ—Å–æ–º, –∑–∞–ª–∏—à–∫–∏ –ú–µ—Å–Ω–∏–∫—ñ–≤ —Ç–∞ —ó—Ö–Ω—ñ —Å–æ—é–∑–Ω–∏–∫–∏ –∑–±–∏—Ä–∞—é—Ç—å—Å—è —Ä–∞–∑–æ–º, —â–æ–± –≤—ñ–¥–Ω–æ–≤–∏—Ç–∏ –í—Å–µ—Å–≤—ñ—Ç —ñ –∑—É–ø–∏–Ω–∏—Ç–∏ –¢–∞–Ω–æ—Å–∞ —Ä–∞–∑ —ñ –Ω–∞–∑–∞–≤–∂–¥–∏.",
    "rating": 8.4,
    "genre": "Action, Adventure, Sci-Fi",
    "actors": [
      "Robert Downey Jr.",
      "Chris Evans",
      "Mark Ruffalo"
    ],
    "poster": "https://upload.wikimedia.org/wikipedia/en/0/0d/Avengers_Endgame_poster.jpg"
  },
  {
    "name": "The Revenant",
    "description": "–Ü—Å—Ç–æ—Ä—ñ—è –≤–∏–∂–∏–≤–∞–Ω–Ω—è –º–∏—Å–ª–∏–≤—Ü—è –•'—é –ì–ª–∞—Å—Å–∞, —è–∫–∏–π –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –Ω–∞–æ–¥–∏–Ω—Ü—ñ –≤ –¥–∏–∫—ñ–π –ø—Ä–∏—Ä–æ–¥—ñ –ø—ñ—Å–ª—è –Ω–∞–ø–∞–¥—É –≤–µ–¥–º–µ–¥—è. –í—ñ–Ω –≤–∏–∂–∏–≤–∞—î –∑–∞–≤–¥—è–∫–∏ —Å–≤–æ—ó–π —Å–∏–ª—ñ –≤–æ–ª—ñ —Ç–∞ –±–∞–∂–∞–Ω–Ω—é –ø–æ–º—Å—Ç–∏—Ç–∏—Å—è —Ç–∏–º, —Ö—Ç–æ –ø–æ–∫–∏–Ω—É–≤ –π–æ–≥–æ –ø–æ–º–µ—Ä—Ç–∏.",
    "rating": 8.0,
    "genre": "Adventure, Drama, Thriller",
    "actors": [
      "Leonardo DiCaprio",
      "Tom Hardy",
      "Domhnall Gleeson"
    ],
    "poster": "https://upload.wikimedia.org/wikipedia/en/b/b6/The_Revenant_2015_film_poster.jpg"
  }
]
```

[–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –∑–º—ñ—Å—Ç—É](#–∑–º—ñ—Å—Ç-–∫–æ–Ω—Å–ø–µ–∫—Ç—É)

---

## 3. –§—É–Ω–∫—Ü—ñ—è `Keyboard builder`

> üí° –©–æ–± –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –º–æ–¥—É–ª—å–Ω—ñ—Å—Ç—å –Ω–∞—à–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É, –≤–∞—Ä—Ç–æ —Ä–æ–∑–±–∏–≤–∞—Ç–∏ –∑–∞–¥–∞—á—ñ –Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—ó, —è–∫—ñ —ó—Ö –±—É–¥—É—Ç—å –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏.

–°—Ç–≤–æ—Ä–∏–º–æ —Ñ—É–Ω–∫—Ü—ñ—é `get_films` –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É —Ñ—ñ–ª—å–º—ñ–≤:

- –°—Ç–≤–æ—Ä–∏–º–æ –º–æ–¥—É–ª—å `data.py` –≤ –∫–æ—Ä–µ–Ω—ñ –Ω–∞—à–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É.
- –Ü–º–ø–æ—Ä—Ç—É—î–º–æ –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É `json`.

```python
# –Ü–º–ø–æ—Ä—Ç –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ json
import json


#  –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É —Ñ—ñ–ª—å–º—ñ–≤
def get_films(file_path: str = "data.json", film_id: int | None = None) -> list[dict] | dict:
    with open(file_path, 'r') as fp:
        films = json.load(fp)
        if film_id is not None and film_id < len(films):
            return films[film_id]
        return films
```

–°—Ç–≤–æ—Ä–∏–º–æ –º–æ–¥—É–ª—å `keyboards.py` –≤ –∫–æ—Ä–µ–Ω—ñ –Ω–∞—à–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É:

- –Ü–º–ø–æ—Ä—Ç—É—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—ó `InlineKeyboardBuilder()` —Ç–∞ `CallbackData()`.
- –°—Ç–≤–æ—Ä–∏–º–æ –∫–ª–∞—Å `FilmCallback` –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π `id` —Ç–∞ `name`.
- –†–µ–∞–ª—ñ–∑—É—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—é –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏ `films_keyboard_markup`.

```python
# –Ü–º–ø–æ—Ä—Ç—É—î–º–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –º–æ–¥—É–ª—ñ –∑ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ aiogram
# InlineKeyboardBuilder –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏
# CallbackData –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö, —è–∫—ñ –±—É–¥—É—Ç—å –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏—Å—è –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –∫–Ω–æ–ø–∫–∏
from aiogram.utils.keyboard import InlineKeyboardBuilder
from aiogram.filters.callback_data import CallbackData


# –°—Ç–≤–æ—Ä–∏–º–æ –∫–ª–∞—Å FilmCallback, —è–∫–∏–π —É—Å–ø–∞–¥–∫–æ–≤—É—î CallbackData
# –¶–µ–π –∫–ª–∞—Å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è callback –¥–∞–Ω–∏—Ö, —è–∫—ñ –±—É–¥—É—Ç—å –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏—Å—è –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –∫–Ω–æ–ø–∫–∏
# prefix="film" - –ø—Ä–µ—Ñ—ñ–∫—Å, —è–∫–∏–π –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –¥–ª—è —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è —Ç–∏–ø—É callback –¥–∞–Ω–∏—Ö
# sep=";" - —Ä–æ–∑–¥—ñ–ª—å–Ω–∏–∫, —è–∫–∏–π –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –¥–ª—è —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –≤ callback
class FilmCallback(CallbackData, prefix="film", sep=";"):
    id: int  # –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —Ñ—ñ–ª—å–º—É
    name: str  # –ù–∞–∑–≤–∞ —Ñ—ñ–ª—å–º—É


# –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏ –∑ —Ñ—ñ–ª—å–º–∞–º–∏
def films_keyboard_markup(films_list: list[dict], offset: int | None = None, skip: int | None = None):
    # –°—Ç–≤–æ—Ä—é—î–º–æ –æ–±'—î–∫—Ç InlineKeyboardBuilder –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏
    builder = InlineKeyboardBuilder()
    # –£—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–Ω–æ–ø–æ–∫ —É —Ä—è–¥–∫—É —Ç–∞ –ø–æ–≤—Ç–æ—Ä—é—î–º–æ —Ü–µ–π —à–∞–±–ª–æ–Ω
    builder.adjust(1, repeat=True)

    # –ü—Ä–æ—Ö–æ–¥–∏–º–æ –ø–æ —Å–ø–∏—Å–∫—É —Ñ—ñ–ª—å–º—ñ–≤ —Ç–∞ –¥–æ–¥–∞—î–º–æ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ñ—ñ–ª—å–º—É
    for index, film_data in enumerate(films_list):
        # –°—Ç–≤–æ—Ä—é—î–º–æ –æ–±'—î–∫—Ç FilmCallback –∑ –¥–∞–Ω–∏–º–∏ —Ñ—ñ–ª—å–º—É
        callback_data = FilmCallback(id=index, **film_data)
        # –î–æ–¥–∞—î–º–æ –∫–Ω–æ–ø–∫—É –∑ —Ç–µ–∫—Å—Ç–æ–º –Ω–∞–∑–≤–∏ —Ñ—ñ–ª—å–º—É —Ç–∞ callback –¥–∞–Ω–∏–º–∏
        builder.button(
            text=f"{callback_data.name}",  # –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ - –Ω–∞–∑–≤–∞ —Ñ—ñ–ª—å–º—É
            callback_data=callback_data.pack()  # Callback –¥–∞–Ω—ñ, —è–∫—ñ –±—É–¥—É—Ç—å –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏—Å—è –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –∫–Ω–æ–ø–∫–∏
        )

    # –£—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–Ω–æ–ø–æ–∫ —É —Ä—è–¥–∫—É —Ç–∞ –ø–æ–≤—Ç–æ—Ä—é—î–º–æ —Ü–µ–π —à–∞–±–ª–æ–Ω
    builder.adjust(1, repeat=True)
    # –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä—É —É –≤–∏–≥–ª—è–¥—ñ —Ä–æ–∑–º—ñ—Ç–∫–∏
    return builder.as_markup()

```

–ù–µ–æ–±—Ö—ñ–¥–Ω–æ –≤–Ω–µ—Å—Ç–∏ –∑–º—ñ–Ω–∏ –≤ –∫–æ–¥ –º–æ–¥—É–ª—è `bot.py`:

- –î–æ–¥–∞—î–º–æ —ñ–º–ø–æ—Ä—Ç —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π.
- –†–µ–∞–ª—ñ–∑—É—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫ –∫–æ–º–∞–Ω–¥–∏ `/films`
- –ù–µ–æ–±—Ö—ñ–¥–Ω–æ –¥–æ–ø–æ–≤–Ω–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é `films()`, —è–∫—É –º–∏ —Å—Ç–≤–æ—Ä–∏–ª–∏ –±–µ–∑ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó.

```python
# –î–æ–¥–∞—î–º–æ —ñ–º–ø–æ—Ä—Ç —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π.
from data import get_films
from keyboards import films_keyboard_markup
```

```python
# –†–µ–∞–ª—ñ–∑—É—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫ –∫–æ–º–∞–Ω–¥–∏ `/films`
@dp.message(FILMS_COMMAND)
async def films(message: Message) -> None:
    data = get_films()
    markup = films_keyboard_markup(films_list=data)
    await message.answer(
        f"<b>–°–ø–∏—Å–æ–∫ —Ñ—ñ–ª—å–º—ñ–≤: üéû</b>\n–û–±–µ—Ä—ñ—Ç—å —Ñ—ñ–ª—å–º, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –Ω—å–æ–≥–æ.",
        reply_markup=markup
    )
```

–ü–µ—Ä–µ–≤—ñ—Ä–∏–º–æ, —è–∫ —Ç–µ–ø–µ—Ä –≤–∏–≥–ª—è–¥–∞—î —Ñ–∞–π–ª `bot.py`

```python
import asyncio
import logging
import sys
from config import BOT_TOKEN as TOKEN

from aiogram import Bot, Dispatcher, html
from aiogram.client.default import DefaultBotProperties
from aiogram.enums import ParseMode
from aiogram.filters import CommandStart, Command
from aiogram.types import Message
from commands import FILMS_COMMAND
from data import get_films
from keyboards import films_keyboard_markup

dp = Dispatcher()


@dp.message(Command("start"))
async def start(message: Message) -> None:
    await message.answer(
        f"Helloüñê, {html.bold(message.from_user.full_name)}!\n"
        "I'm your first Telegram Bot ü•≥"
    )


@dp.message(FILMS_COMMAND)
async def films(message: Message) -> None:
    data = get_films()
    markup = films_keyboard_markup(films_list=data)
    await message.answer(
        f"–ü–µ—Ä–µ–ª—ñ–∫ —Ñ—ñ–ª—å–º—ñ–≤. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –Ω–∞–∑–≤—É —Ñ—ñ–ª—å–º—É –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–µ—Ç–∞–ª–µ–π.",
        reply_markup=markup
    )


async def main() -> None:
    # Initialize Bot instance with default bot properties which will be passed to all API calls
    bot = Bot(token=TOKEN, default=DefaultBotProperties(parse_mode=ParseMode.HTML))

    # And the run events dispatching
    await dp.start_polling(bot)


if __name__ == "__main__":
    logging.basicConfig(level=logging.INFO, stream=sys.stdout)
    asyncio.run(main())
```

[–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –∑–º—ñ—Å—Ç—É](#–∑–º—ñ—Å—Ç-–∫–æ–Ω—Å–ø–µ–∫—Ç—É)

---

## 4. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è `Menu` –¥–ª—è TelegramBot

> üí° –°—Ç–≤–æ—Ä–∏–º–æ –µ–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—É `BotCommand`, —â–æ–± –¥–æ–¥–∞—Ç–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω—É –∫–æ–º–∞–Ω–¥—É, —Ç–∞ –æ–ø–∏—Å —Ñ—É–Ω–∫—Ü—ñ—ó —Ü—ñ—î—ó –∫–æ–º–∞–Ω–¥–∏, —É –º–µ–Ω—é.

–ù–µ–æ–±—Ö—ñ–¥–Ω–æ –≤–Ω–µ—Å—Ç–∏ –∑–º—ñ–Ω–∏ –≤ –∫–æ–¥ –º–æ–¥—É–ª—è `commands.py`.

```python
# –ú–æ–¥—É–ª—å, –≤ —è–∫–æ–º—É –æ–≥–æ–ª–æ—à–µ–Ω—ñ –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ —Ç–∞ —ó—Ö —Ñ—ñ–ª—å—Ç—Ä–∏
from aiogram.filters import Command
from aiogram.types.bot_command import BotCommand

FILMS_COMMAND = Command('films')
START_COMMAND = Command('start')

FILMS_BOT_COMMAND = BotCommand(command='films', description="–ü–µ—Ä–µ–≥–ª—è–¥ —Å–ø–∏—Å–∫—É —Ñ—ñ–ª—å–º—ñ–≤")
START_BOT_COMMAND = BotCommand(command='start', description="–ü–æ—á–∞—Ç–∏ —Ä–æ–∑–º–æ–≤—É")
```

–ù–µ–æ–±—Ö—ñ–¥–Ω–æ —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ –≤ –º–æ–¥—É–ª—å `bot.py`.

```python
# Old string
from commands import FILMS_COMMAND

# New string
from commands import (FILMS_COMMAND, START_COMMAND, FILMS_BOT_COMMAND, START_BOT_COMMAND)
```

–¢–∞–∫–æ–∂ –¥–æ–¥–∞–º–æ —Å—Ç–≤–æ—Ä–µ–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ —É —Ñ—É–Ω–∫—Ü—ñ—é `main()` –º–æ–¥—É–ª—è `bot.py`

```python
# –ì–æ–ª–æ–≤–Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –∑–∞–ø—É—Å–∫—É –±–æ—Ç–∞
async def main() -> None:
    # –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ –µ–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞ –∑ —Ç–æ–∫–µ–Ω–æ–º —Ç–∞ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—è–º–∏ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
    bot = Bot(token=TOKEN, default=DefaultBotProperties(parse_mode=ParseMode.HTML))
    # –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –∫–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞
    await bot.set_my_commands([FILMS_BOT_COMMAND, START_BOT_COMMAND])

    # –ó–∞–ø—É—Å–∫–∞—î–º–æ —Ü–∏–∫–ª –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –æ–Ω–æ–≤–ª–µ–Ω—å
    await dp.start_polling(bot)
```

–ù–µ–æ–±—Ö—ñ–¥–Ω–æ **–∑–∞–ø—É—Å—Ç–∏—Ç–∏** –Ω–∞—à—É –ø—Ä–æ–≥—Ä–∞–º—É —Ç–∞ **–ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–º—ñ–Ω–∏**, —è–∫—ñ –º–∏ –¥–æ–¥–∞–ª–∏.

–ë–∞–∂–∞–Ω–æ —Ü–µ —Ä–æ–±–∏—Ç–∏ –∑ **Desktop** –≤–µ—Ä—Å—ñ—ó **Telegram**.

[–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –∑–º—ñ—Å—Ç—É](#–∑–º—ñ—Å—Ç-–∫–æ–Ω—Å–ø–µ–∫—Ç—É)

---

## 5. –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–µ—Ä–µ–≥–ª—è–¥—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ —Ñ—ñ–ª—å–º–∏

> üí° –î–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –¥–µ—Ç–∞–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –æ–±—Ä–∞–Ω–∏–π —Ñ—ñ–ª—å–º –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –¥–æ–¥–∞—Ç–∏ –æ–±—Ä–æ–±–Ω–∏–∫–∞ –ø–æ–¥—ñ—ó `FilmCallback`, –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó
> –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –Ω–∞ –∫–Ω–æ–ø–∫—É –∑ —Ñ—ñ–ª—å–º–æ–º.

–ó–º—ñ–Ω–∏–º–æ —Ä—è–¥–æ–∫ —ñ–º–ø–æ—Ä—Ç—É –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏ –≤ —Ñ–∞–π–ª—ñ `bot.py`

```python
# Old string
from keyboards import films_keyboard_markup

# New string
from keyboards import films_keyboard_markup, FilmCallback
```

–ù–µ–æ–±—Ö—ñ–¥–Ω–æ —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é `CallbackQuery()` –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –ø–æ–¥—ñ–π –∑ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏.

–ó–º—ñ–Ω–∏–º–æ –Ω–∞—Å—Ç—É–ø–Ω–∏–π —Ä—è–¥–æ–∫ —ñ–º–ø–æ—Ä—Ç—É –≤ —Ñ–∞–π–ª—ñ `bot.py`

```python
# Old string
from aiogram.types import Message

# New string
from aiogram.types import Message, CallbackQuery
```

–¢–∞–∫–æ–∂ –¥–æ–¥–∞–º–æ **—Ñ—É–Ω–∫—Ü—ñ—é** `callback_film()`

–†–µ–∞–ª—ñ–∑—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ —Ñ—ñ–ª—å–º —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ–≥–æ —Ñ—ñ–ª—å–º—É –ø–æ `id`.

```python
@dp.callback_query(FilmCallback.filter())
async def callback_film(callback: CallbackQuery, callback_data: FilmCallback) -> None:
    # –û—Ç—Ä–∏–º—É—î–º–æ ID —Ñ—ñ–ª—å–º—É –∑ –¥–∞–Ω–∏—Ö –∑–≤–æ—Ä–æ—Ç–Ω–æ–≥–æ –≤–∏–∫–ª–∏–∫—É
    film_id = callback_data.id
    # –û—Ç—Ä–∏–º—É—î–º–æ –¥–∞–Ω—ñ –ø—Ä–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ñ—ñ–ª—å–º –∑–∞ –π–æ–≥–æ ID
    film_data = get_films(film_id=film_id)
    # –°—Ç–≤–æ—Ä—é—î–º–æ –æ–±'—î–∫—Ç —Ñ—ñ–ª—å–º—É
    film = Film(**film_data)

    # –§–æ—Ä–º—É—î–º–æ —Ç–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –¥–µ—Ç–∞–ª—è–º–∏ –ø—Ä–æ —Ñ—ñ–ª—å–º
    text = f"<b>–§—ñ–ª—å–º:</b> {film.name}\n" \
           f"<b>–û–ø–∏—Å:</b> {film.description}\n" \
           f"<b>–†–µ–π—Ç–∏–Ω–≥:</b> {film.rating}\n" \
           f"<b>–ñ–∞–Ω—Ä:</b> {film.genre}\n" \
           f"<b>–ê–∫—Ç–æ—Ä–∏:</b> {', '.join(film.actors)}\n"

    # –í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ —Ñ–æ—Ç–æ –∑ –ø–æ—Å—Ç–µ—Ä–æ–º —Ñ—ñ–ª—å–º—É —Ç–∞ —Ç–µ–∫—Å—Ç–æ–º –∑ –¥–µ—Ç–∞–ª—è–º–∏
    await callback.message.answer_photo(
        caption=text,
        photo=URLInputFile(
            film.poster,
            filename=f"{film.name}_poster.{film.poster.split('.')[-1]}"
        )
    )
```

–°—Ç–≤–æ—Ä–∏–º–æ —Ñ–∞–π–ª `models.py` –∑ –∫–ª–∞—Å–æ–º `Film(BaseModel)`–≤—Å–µ—Ä–µ–¥–∏–Ω—ñ, –¥–ª—è —è–∫—ñ—Å–Ω–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø–æ –∫–æ–∂–Ω–æ–º—É —Ñ—ñ–ª—å–º—É.

```python
from pydantic import BaseModel


class Film(BaseModel):
    name: str
    description: str
    rating: float
    genre: str
    actors: list[str]
    poster: str
```

–î–æ–¥–∞–º–æ –Ω–∞—Å—Ç—É–ø–Ω—ñ `imports` –≤ —Ñ–∞–π–ª `bot.py`

```python
from models import Film
```

```python
# Old string
from aiogram.types import Message, CallbackQuery

# New string
from aiogram.types import Message, CallbackQuery, URLInputFile
```

–ó–∞–ø—É—Å–∫–∞—î–º–æ –Ω–∞—à—É –ø—Ä–æ–≥—Ä–∞–º—É —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –∑–º—ñ–Ω–∏ –≤ **TelegramBot**.

[–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –∑–º—ñ—Å—Ç—É](#–∑–º—ñ—Å—Ç-–∫–æ–Ω—Å–ø–µ–∫—Ç—É)

---

## 6. –ü—ñ–¥–≤–µ–¥–µ–Ω–Ω—è –ø—ñ–¥—Å—É–º–∫—ñ–≤ üöÄ

> –°—å–æ–≥–æ–¥–Ω—ñ –º–∏ –Ω–∞–≤—á–∏–ª–∏—Å—è:

- –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É —Å–ø–∏—Å–∫—É —Ñ—ñ–ª—å–º—ñ–≤ —É **TelegramBot**.
- –î–æ–¥–∞–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—É –∫–ª–∞–≤—ñ–∞—Ç—É—Ä—É –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.
- –†–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é –ø–µ—Ä–µ–≥–ª—è–¥—É –¥–µ—Ç–∞–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ —Ñ—ñ–ª—å–º–∏.

–¢–µ–ø–µ—Ä –Ω–∞—à **TelegramBot** –º–æ–∂–µ –Ω–µ —Ç—ñ–ª—å–∫–∏ –≤—ñ—Ç–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –∞–ª–µ –π –Ω–∞–¥–∞–≤–∞—Ç–∏ —ó–º –∫–æ—Ä–∏—Å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ñ—ñ–ª—å–º–∏.

[–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –∑–º—ñ—Å—Ç—É](#–∑–º—ñ—Å—Ç-–∫–æ–Ω—Å–ø–µ–∫—Ç—É)

---
